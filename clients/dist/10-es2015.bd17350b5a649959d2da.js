(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"gLN/":function(t,e,r){"use strict";r.r(e),r.d(e,"ProductsModule",(function(){return O}));var o=r("ofXK"),i=r("tyNb"),c=r("3Pt+"),n=r("Kj3r"),d=r("/uUt"),s=r("514k"),a=r("IFNP"),l=r("AytR"),b=r("xa+l"),m=r("fXoL"),u=r("1kSV"),p=r("2g2N"),f=r("hroD"),h=r("jhN1");function g(t,e){1&t&&(m.Rb(0,"div"),m.Dc(1,"Product name is required."),m.Qb())}function v(t,e){if(1&t&&(m.Rb(0,"div",29),m.Bc(1,g,2,0,"div",30),m.Qb()),2&t){const t=m.hc(2);m.zb(1),m.mc("ngIf",t.isFormSubmittedAndError("name","required"))}}function R(t,e){1&t&&(m.Rb(0,"div"),m.Dc(1,"Product description is required."),m.Qb())}function y(t,e){if(1&t&&(m.Rb(0,"div",29),m.Bc(1,R,2,0,"div",30),m.Qb()),2&t){const t=m.hc(2);m.zb(1),m.mc("ngIf",t.isFormSubmittedAndError("description","required"))}}function Q(t,e){if(1&t){const t=m.Sb();m.Rb(0,"button",31),m.dc("click",(function(){return m.vc(t),m.hc(),m.uc(23).click()})),m.Rb(1,"span",32),m.Nb(2,"i",33),m.Qb(),m.Nb(3,"br"),m.Dc(4,"Upload a Cover Image "),m.Qb()}}function F(t,e){if(1&t){const t=m.Sb();m.Rb(0,"img",34),m.dc("click",(function(){return m.vc(t),m.hc(),m.uc(23).click()})),m.Qb()}if(2&t){const t=m.hc(2);m.mc("src",t.productForm.get("imageUrl").value,m.wc)}}function P(t,e){1&t&&(m.Rb(0,"div"),m.Dc(1,"Model is required."),m.Qb())}function C(t,e){if(1&t&&(m.Rb(0,"div",29),m.Bc(1,P,2,0,"div",30),m.Qb()),2&t){const t=m.hc().$implicit,e=m.hc(2);m.zb(1),m.mc("ngIf",e.isArrayFormSubmittedAndError(t,"model","required"))}}const x=function(t){return{isInvalid:t}};function S(t,e){if(1&t&&(m.Rb(0,"fieldset",35),m.Rb(1,"legend",36),m.Dc(2),m.Qb(),m.Rb(3,"div",37),m.Rb(4,"div",20),m.Rb(5,"div",13),m.Rb(6,"label",38),m.Dc(7,"Model"),m.Qb(),m.Nb(8,"input",39),m.Rb(9,"span",16),m.Dc(10,"*"),m.Qb(),m.Bc(11,C,2,1,"div",17),m.Qb(),m.Qb(),m.Rb(12,"div",20),m.Rb(13,"div",13),m.Rb(14,"label",38),m.Dc(15,"Ratio"),m.Qb(),m.Nb(16,"input",40),m.Qb(),m.Qb(),m.Rb(17,"div",20),m.Rb(18,"div",13),m.Rb(19,"label",38),m.Dc(20,"Size"),m.Qb(),m.Nb(21,"input",41),m.Qb(),m.Qb(),m.Rb(22,"div",20),m.Rb(23,"div",13),m.Rb(24,"label",38),m.Dc(25,"Type"),m.Qb(),m.Nb(26,"input",42),m.Qb(),m.Qb(),m.Rb(27,"div",20),m.Rb(28,"div",13),m.Rb(29,"label",38),m.Dc(30,"Power"),m.Qb(),m.Rb(31,"div",43),m.Nb(32,"input",44),m.Nb(33,"input",45),m.Qb(),m.Qb(),m.Qb(),m.Rb(34,"div",20),m.Rb(35,"div",13),m.Rb(36,"label",38),m.Dc(37,"Flange"),m.Qb(),m.Nb(38,"input",46),m.Qb(),m.Qb(),m.Rb(39,"div",20),m.Rb(40,"div",13),m.Rb(41,"label",38),m.Dc(42,"Application"),m.Qb(),m.Nb(43,"input",47),m.Qb(),m.Qb(),m.Rb(44,"div",11),m.Rb(45,"div",13),m.Rb(46,"label",38),m.Dc(47,"Industries"),m.Qb(),m.Nb(48,"input",48),m.Qb(),m.Qb(),m.Qb(),m.Qb()),2&t){const t=e.$implicit,r=e.index,o=m.hc(2);m.zb(2),m.Fc("Product Detail ",r+1,""),m.zb(1),m.mc("formGroup",t),m.zb(3),m.mc("for","model"+r),m.zb(2),m.mc("id","model"+r)("ngClass",m.qc(21,x,o.isArrayFormSubmittedAndError(t,"model"))),m.zb(3),m.mc("ngIf",o.isArrayFormSubmittedAndError(t,"model")),m.zb(3),m.mc("for","ratio"+r),m.zb(2),m.mc("id","ratio"+r),m.zb(3),m.mc("for","size"+r),m.zb(2),m.mc("id","size"+r),m.zb(3),m.mc("for","type"+r),m.zb(2),m.mc("id","type"+r),m.zb(3),m.mc("for","powerKw"+r),m.zb(3),m.mc("id","powerKw"+r),m.zb(1),m.mc("id","powerHp"+r),m.zb(3),m.mc("for","flange"+r),m.zb(2),m.mc("id","flange"+r),m.zb(3),m.mc("for","application"+r),m.zb(2),m.mc("id","application"+r),m.zb(3),m.mc("for","industries"+r),m.zb(2),m.mc("id","industries"+r)}}function z(t,e){if(1&t){const t=m.Sb();m.Rb(0,"form",9),m.dc("submit",(function(){return m.vc(t),m.hc().productFormSubmit()})),m.Rb(1,"div",10),m.Rb(2,"div",11),m.Rb(3,"div",10),m.Rb(4,"div",12),m.Rb(5,"div",13),m.Rb(6,"label",14),m.Dc(7,"Product Name"),m.Qb(),m.Nb(8,"input",15),m.Rb(9,"span",16),m.Dc(10,"*"),m.Qb(),m.Bc(11,v,2,1,"div",17),m.Qb(),m.Qb(),m.Rb(12,"div",12),m.Rb(13,"div",13),m.Rb(14,"label",18),m.Dc(15,"Product Description"),m.Qb(),m.Nb(16,"input",19),m.Rb(17,"span",16),m.Dc(18,"*"),m.Qb(),m.Bc(19,y,2,1,"div",17),m.Qb(),m.Qb(),m.Qb(),m.Qb(),m.Rb(20,"div",20),m.Rb(21,"div",21),m.Rb(22,"input",22,23),m.dc("change",(function(e){return m.vc(t),m.hc().onChangePropertyCoverImage(e)})),m.Qb(),m.Bc(24,Q,5,0,"button",24),m.Bc(25,F,1,1,"img",25),m.Qb(),m.Qb(),m.Qb(),m.Rb(26,"div",26),m.Rb(27,"div",12),m.Bc(28,S,49,23,"fieldset",27),m.Qb(),m.Qb(),m.Rb(29,"div",10),m.Rb(30,"div",12),m.Rb(31,"button",28),m.dc("click",(function(){return m.vc(t),m.hc().createProductDetailForm()})),m.Dc(32,"Add Product Details"),m.Qb(),m.Qb(),m.Qb(),m.Qb()}if(2&t){const t=m.hc();m.mc("formGroup",t.productForm),m.zb(8),m.mc("ngClass",m.qc(9,x,t.isFormSubmittedAndError("name"))),m.zb(3),m.mc("ngIf",t.isFormSubmittedAndError("name")),m.zb(5),m.mc("ngClass",m.qc(11,x,t.isFormSubmittedAndError("description"))),m.zb(3),m.mc("ngIf",t.isFormSubmittedAndError("description")),m.zb(5),m.mc("ngIf",!t.productForm.get("imageUrl").value),m.zb(1),m.mc("ngIf",t.productForm.get("imageUrl").value),m.zb(3),m.mc("ngForOf",t.productFormProducts.controls)("ngForTrackBy",t.trackByFn)}}let w=(()=>{class t{constructor(t,e,r,o,i){this.activeModal=t,this.formBuilder=e,this.toastService=r,this.commonService=o,this.sanitizer=i,this.product={},this.serverDomain=l.a.serverUrl,this.isEditProduct=!1}ngOnInit(){this.isEditProduct=this.product&&this.product._id,this.createForm()}createForm(){if(this.productForm=this.formBuilder.group({_id:[this.product._id||""],name:[this.product.name||"",[c.s.required,c.s.maxLength(100)]],description:[this.product.description||"",[c.s.maxLength(200)]],image:[""],imageUrl:[this.product.image?this.serverDomain+this.product.image:""],products:new c.b([]),isClicked:[!1],isSubmited:[!1]}),this.product.products&&this.product.products.length>0)for(const t in this.product.products)Object.prototype.hasOwnProperty.call(this.product.products,t)&&this.createProductDetailForm(this.product.products[t])}createProductDetailForm(t={}){if(this.productFormProducts.valid){const e=this.formBuilder.group({model:[t.model||"",[c.s.required,c.s.maxLength(100)]],ratio:[t.ratio||"",[c.s.maxLength(100)]],size:[t.size||"",[c.s.maxLength(100)]],type:[t.type||"",[c.s.maxLength(100)]],powerKw:[t.powerKw||"",[c.s.maxLength(100)]],powerHp:[t.powerHp||"",[c.s.maxLength(100)]],flange:[t.flange||"",[c.s.maxLength(100)]],application:[t.application||"",[c.s.maxLength(100)]],industries:[t.industries||"",[c.s.maxLength(100)]],isClicked:[!1],isSubmited:[!1]});this.productFormProducts.push(e)}else this.toastService.removeAll(),this.toastService.error("Please enter valid product detail.")}get productFormIsClicked(){return this.productForm.get("isClicked")}get productFormIsSubmmited(){return this.productForm.get("isSubmited")}get productFormProducts(){return this.productForm.get("products")}productFormSubmit(){if(this.productFormIsClicked.setValue(!0),this.toastService.removeAll(),this.productForm.invalid&&!1===this.productFormIsSubmmited.value)this.toastService.error("Please enter valid values.");else{this.productFormIsSubmmited.setValue(!0),console.log("this.productForm.value : ",this.productForm.value);var t=this.productForm.value;delete t.imageUrl,t.image instanceof File&&(t=b.a.jsonToFormData(t)),this.commonService.post(s.a.Product.Insert,t).subscribe(t=>{t&&200===t.status?this.activeModal.close(t.data):this.toastService.error(t.message)},t=>{this.toastService.error(t.message)}).add(()=>{this.productForm.reset(),this.productFormIsClicked.setValue(!1),this.productFormIsSubmmited.setValue(!1)})}}onChangePropertyCoverImage(t){return e=this,void 0,o=function*(){if(t.target.files&&t.target.files.length>0)for(const e in t.target.files)if(Object.prototype.hasOwnProperty.call(t.target.files,e)){const r=t.target.files[e],o=yield b.a.fileToBlobUrl(r);this.productForm.get("image").setValue(r),this.productForm.get("imageUrl").setValue(this.sanitizer.bypassSecurityTrustResourceUrl(o))}},new((r=void 0)||(r=Promise))((function(t,i){function c(t){try{d(o.next(t))}catch(e){i(e)}}function n(t){try{d(o.throw(t))}catch(e){i(e)}}function d(e){var o;e.done?t(e.value):(o=e.value,o instanceof r?o:new r((function(t){t(o)}))).then(c,n)}d((o=o.apply(e,[])).next())}));var e,r,o}isFormSubmittedAndError(t,e="",r=new Array){return b.a.isFormSubmittedAndError(this.productForm,this.productFormIsClicked.value,t,e,r)}isArrayFormSubmittedAndError(t,e,r="",o=new Array){return b.a.isFormSubmittedAndError(t,1,e,r,o)}trackByFn(t="",e={}){return e._id}}return t.\u0275fac=function(e){return new(e||t)(m.Mb(u.a),m.Mb(c.c),m.Mb(p.a),m.Mb(f.a),m.Mb(h.b))},t.\u0275cmp=m.Gb({type:t,selectors:[["app-add-edit-product-modal"]],inputs:{product:"product"},decls:12,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],[1,"icofont-close"],[1,"modal-body"],["appInvalidFormFocus","","autocomplete","off","role","form",3,"formGroup","submit",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["appInvalidFormFocus","","autocomplete","off","role","form",3,"formGroup","submit"],[1,"row"],[1,"col-8"],[1,"col-12"],[1,"form-group","mb-3"],["for","name"],["type","text","id","name","formControlName","name","placeholder","Enter product name","maxlength","100","trim","blur",1,"form-control",3,"ngClass"],[1,"required"],["class","invalid-feedback",4,"ngIf"],["for","description"],["type","text","id","description","formControlName","description","placeholder","Enter product description","maxlength","200","trim","blur",1,"form-control",3,"ngClass"],[1,"col-4"],[1,"d-flex","flex-row","flex-wrap","justify-content-end","align-items-end","w-100","h-100"],["type","file","hidden","","accept","image/*",3,"change"],["propertyCoverImage",""],["type","button","class","btn btn-labeled btn-outline-primary btn-lg propertyCoverImageBtn",3,"click",4,"ngIf"],["alt","...","class","img-thumbnail propertyCoverImage",3,"src","click",4,"ngIf"],[1,"row","mt-4"],["class","border p-3 mb-4",4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],["type","button",1,"btn","btn-labeled","btn-outline-primary","btn-lg","propertyCoverImageBtn",3,"click"],[1,"btn-label"],[1,"icofont-camera","icofont-5x"],["alt","...",1,"img-thumbnail","propertyCoverImage",3,"src","click"],[1,"border","p-3","mb-4"],[1,"w-auto","h6","text-muted"],[1,"row",3,"formGroup"],[3,"for"],["type","text","formControlName","model","placeholder","Enter product model","maxlength","100","trim","blur",1,"form-control",3,"id","ngClass"],["type","text","formControlName","ratio","placeholder","Enter product ratio","maxlength","100","trim","blur",1,"form-control",3,"id"],["type","text","formControlName","size","placeholder","Enter product size","maxlength","100","trim","blur",1,"form-control",3,"id"],["type","text","formControlName","type","placeholder","Enter product type","maxlength","100","trim","blur",1,"form-control",3,"id"],[1,"input-group"],["type","text","formControlName","powerKw","placeholder","Power in KW","maxlength","100","trim","blur",1,"form-control",3,"id"],["type","text","formControlName","powerHp","placeholder","Power in HP","maxlength","100","trim","blur",1,"form-control",3,"id"],["type","text","formControlName","flange","placeholder","Enter product flange","maxlength","100","trim","blur",1,"form-control",3,"id"],["type","text","formControlName","application","placeholder","Enter product application","maxlength","100","trim","blur",1,"form-control",3,"id"],["type","text","formControlName","industries","placeholder","Enter product industries","maxlength","100","trim","blur",1,"form-control",3,"id"]],template:function(t,e){1&t&&(m.Rb(0,"div",0),m.Rb(1,"h5",1),m.Dc(2),m.Qb(),m.Rb(3,"button",2),m.dc("click",(function(){return e.activeModal.dismiss("Cross click")})),m.Nb(4,"i",3),m.Qb(),m.Qb(),m.Rb(5,"div",4),m.Bc(6,z,33,13,"form",5),m.Qb(),m.Rb(7,"div",6),m.Rb(8,"button",7),m.dc("click",(function(){return e.activeModal.dismiss("Cross click")})),m.Dc(9,"Close"),m.Qb(),m.Rb(10,"button",8),m.dc("click",(function(){return e.productFormSubmit()})),m.Dc(11),m.Qb(),m.Qb()),2&t&&(m.zb(2),m.Fc("",e.isEditProduct?"Edit":"Add"," Product"),m.zb(4),m.mc("ngIf",e.productForm),m.zb(5),m.Ec(e.isEditProduct?"Update":"Add"))},directives:[o.k,c.u,c.p,c.h,c.a,c.o,c.f,c.j,o.i,o.j],styles:[".propertyCoverImage[_ngcontent-%COMP%], .propertyCoverImageBtn[_ngcontent-%COMP%]{min-width:200px;max-width:200px;min-height:200px;max-height:200px}.propertyCoverImage[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%], .propertyCoverImageBtn[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:10rem;padding-bottom:1rem}"]}),t})();var k=r("fB6u"),I=r("3LUQ"),D=r("nlvs");function N(t,e){1&t&&m.Nb(0,"app-no-data-found")}function A(t,e){if(1&t){const t=m.Sb();m.Rb(0,"div",11),m.Rb(1,"div",12),m.Rb(2,"div",13),m.Nb(3,"img",14),m.Rb(4,"div",15),m.Rb(5,"a",16),m.dc("click",(function(){m.vc(t);const r=e.$implicit;return m.hc().openViewProductModal(r)})),m.Nb(6,"i",17),m.Qb(),m.Rb(7,"a",18),m.dc("click",(function(){m.vc(t);const r=e.$implicit;return m.hc().openAddEditProductModal(r)})),m.Nb(8,"i",19),m.Qb(),m.Rb(9,"a",20),m.dc("click",(function(){m.vc(t);const r=e.$implicit;return m.hc().deleteProduct(r)})),m.Nb(10,"i",21),m.Qb(),m.Qb(),m.Qb(),m.Rb(11,"div",22),m.Rb(12,"h4"),m.Dc(13),m.Qb(),m.Rb(14,"span"),m.Dc(15),m.Qb(),m.Qb(),m.Qb(),m.Qb()}if(2&t){const t=e.$implicit,r=m.hc();m.zb(3),m.mc("src",t.image?r.serverDomain+t.image:"assets/img/logo/logo.png",m.wc),m.zb(10),m.Ec(t.name),m.zb(2),m.Ec(t.description)}}const E=[{path:"",component:(()=>{class t{constructor(t,e,r,o,i){this.modalService=t,this.commonService=e,this.authService=r,this.alertService=o,this.toastService=i,this.serverDomain=l.a.serverUrl,this.products=[],this.tempProducts=[],this.productSearchCtrl=new c.d(""),this.productSearchCtrl.valueChanges.pipe(Object(n.a)(500),Object(d.a)()).subscribe(t=>{console.log("search : ",t),this.products=this.tempProducts.filter(e=>-1!==e.name.indexOf(t))}),this.getAllProduct()}ngOnInit(){this.loadScripts()}getAllProduct(){this.commonService.post(s.a.Product.Get).subscribe(t=>{t&&200===t.status&&(this.products=t.data,this.tempProducts=t.data)})}loadScripts(){const t=["assets/js/landingPage.js"];for(let e=0;e<t.length;e++){const r=document.createElement("script");r.src=t[e],r.type="text/javascript",r.async=!1,document.getElementsByTagName("head")[0].appendChild(r)}}openAddEditProductModal(t={}){console.log("product : ",t);const e=this.modalService.open(w,{size:"xl"});e.componentInstance.product=t,e.result.then(t=>{console.log("res : ",t),this.getAllProduct()},t=>{console.log("reason : ",t)})}openViewProductModal(t={}){console.log("product : ",t),this.modalService.open(a.a,{size:"xl"}).componentInstance.product=t}deleteProduct(t={}){this.alertService.confirmationAlert("","This product deleted permanetaly.").then(e=>{console.log("Is Confirmed : ",e),e&&!0===e.value&&this.commonService.delete(s.a.Product.Delete,t._id).subscribe(t=>{console.log("Res : ",t),200===t.status?this.toastService.success("Payment method deleted successfully."):this.toastService.error(t.message),this.getAllProduct()})})}trackByFn(t="",e={}){return e._id}}return t.\u0275fac=function(e){return new(e||t)(m.Mb(u.b),m.Mb(f.a),m.Mb(k.a),m.Mb(I.a),m.Mb(p.a))},t.\u0275cmp=m.Gb({type:t,selectors:[["app-products"]],decls:12,vars:4,consts:[["id","products",1,"products"],["data-aos","fade-up",1,"container"],[1,"row"],[1,"col-6"],[1,"form-group","noLabel"],["type","text","id","search","placeholder","Search","maxlength","100","trim","blur",1,"form-control",3,"formControl"],[1,"col-6","text-right"],[1,"btn","btn-success",3,"click"],[1,"row","mt-4"],[4,"ngIf"],["class","col-lg-3 col-md-6 d-flex align-items-stretch","data-aos","fade-up","data-aos-delay","100",4,"ngFor","ngForOf","ngForTrackBy"],["data-aos","fade-up","data-aos-delay","100",1,"col-lg-3","col-md-6","d-flex","align-items-stretch"],[1,"member"],[1,"member-img"],["alt","",1,"img-fluid",3,"src"],[1,"social"],["href","javascript:;",3,"click"],[1,"icofont-eye-alt"],["href","javascript:;",1,"edit",3,"click"],[1,"icofont-ui-edit"],["href","javascript:;",1,"delete",3,"click"],[1,"icofont-ui-delete"],[1,"member-info"]],template:function(t,e){1&t&&(m.Rb(0,"section",0),m.Rb(1,"div",1),m.Rb(2,"div",2),m.Rb(3,"div",3),m.Rb(4,"div",4),m.Nb(5,"input",5),m.Qb(),m.Qb(),m.Rb(6,"div",6),m.Rb(7,"button",7),m.dc("click",(function(){return e.openAddEditProductModal()})),m.Dc(8,"Add Product"),m.Qb(),m.Qb(),m.Qb(),m.Rb(9,"div",8),m.Bc(10,N,1,0,"app-no-data-found",9),m.Bc(11,A,16,3,"div",10),m.Qb(),m.Qb(),m.Qb()),2&t&&(m.zb(5),m.mc("formControl",e.productSearchCtrl),m.zb(5),m.mc("ngIf",e.products&&0===e.products.length),m.zb(1),m.mc("ngForOf",e.products)("ngForTrackBy",e.trackByFn))},directives:[c.a,c.j,c.o,c.e,o.k,o.j,D.a],styles:[""]}),t})()}];let B=(()=>{class t{}return t.\u0275mod=m.Kb({type:t}),t.\u0275inj=m.Jb({factory:function(e){return new(e||t)},imports:[[i.d.forChild(E)],i.d]}),t})();var M=r("ZZzB");let O=(()=>{class t{}return t.\u0275mod=m.Kb({type:t}),t.\u0275inj=m.Jb({factory:function(e){return new(e||t)},imports:[[o.b,u.c,c.i,c.r,M.a,B]]}),t})()}}]);