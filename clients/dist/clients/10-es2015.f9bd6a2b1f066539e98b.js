(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"gLN/":function(t,e,r){"use strict";r.r(e),r.d(e,"ProductsModule",(function(){return j}));var o=r("ofXK"),i=r("tyNb"),c=r("3Pt+"),n=r("Kj3r"),d=r("/uUt"),s=r("514k"),a=r("IFNP"),l=r("AytR"),b=r("xa+l"),u=r("fXoL"),m=r("1kSV"),p=r("2g2N"),f=r("hroD"),g=r("jhN1");function h(t,e){1&t&&(u.Rb(0,"div"),u.Bc(1,"Product name is required."),u.Qb())}function v(t,e){if(1&t&&(u.Rb(0,"div",29),u.zc(1,h,2,0,"div",30),u.Qb()),2&t){const t=u.fc(2);u.zb(1),u.kc("ngIf",t.isFormSubmittedAndError("name","required"))}}function R(t,e){1&t&&(u.Rb(0,"div"),u.Bc(1,"Product description is required."),u.Qb())}function y(t,e){if(1&t&&(u.Rb(0,"div",29),u.zc(1,R,2,0,"div",30),u.Qb()),2&t){const t=u.fc(2);u.zb(1),u.kc("ngIf",t.isFormSubmittedAndError("description","required"))}}function k(t,e){if(1&t){const t=u.Sb();u.Rb(0,"button",31),u.dc("click",(function(){return u.tc(t),u.fc(),u.sc(23).click()})),u.Rb(1,"span",32),u.Nb(2,"i",33),u.Qb(),u.Nb(3,"br"),u.Bc(4,"Upload a Cover Image "),u.Qb()}}function Q(t,e){if(1&t){const t=u.Sb();u.Rb(0,"img",34),u.dc("click",(function(){return u.tc(t),u.fc(),u.sc(23).click()})),u.Qb()}if(2&t){const t=u.fc(2);u.kc("src",t.productForm.get("imageUrl").value,u.uc)}}function F(t,e){1&t&&(u.Rb(0,"div"),u.Bc(1,"Model is required."),u.Qb())}function z(t,e){if(1&t&&(u.Rb(0,"div",29),u.zc(1,F,2,0,"div",30),u.Qb()),2&t){const t=u.fc().$implicit,e=u.fc(2);u.zb(1),u.kc("ngIf",e.isArrayFormSubmittedAndError(t,"model","required"))}}const C=function(t){return{isInvalid:t}};function P(t,e){if(1&t&&(u.Rb(0,"fieldset",35),u.Rb(1,"legend",36),u.Bc(2),u.Qb(),u.Rb(3,"div",37),u.Rb(4,"div",20),u.Rb(5,"div",13),u.Rb(6,"label",38),u.Bc(7,"Model"),u.Qb(),u.Nb(8,"input",39),u.Rb(9,"span",16),u.Bc(10,"*"),u.Qb(),u.zc(11,z,2,1,"div",17),u.Qb(),u.Qb(),u.Rb(12,"div",20),u.Rb(13,"div",13),u.Rb(14,"label",38),u.Bc(15,"Ratio"),u.Qb(),u.Nb(16,"input",40),u.Qb(),u.Qb(),u.Rb(17,"div",20),u.Rb(18,"div",13),u.Rb(19,"label",38),u.Bc(20,"Size"),u.Qb(),u.Nb(21,"input",41),u.Qb(),u.Qb(),u.Rb(22,"div",20),u.Rb(23,"div",13),u.Rb(24,"label",38),u.Bc(25,"Type"),u.Qb(),u.Nb(26,"input",42),u.Qb(),u.Qb(),u.Rb(27,"div",20),u.Rb(28,"div",13),u.Rb(29,"label",38),u.Bc(30,"Power"),u.Qb(),u.Rb(31,"div",43),u.Nb(32,"input",44),u.Nb(33,"input",45),u.Qb(),u.Qb(),u.Qb(),u.Rb(34,"div",20),u.Rb(35,"div",13),u.Rb(36,"label",38),u.Bc(37,"Flange"),u.Qb(),u.Nb(38,"input",46),u.Qb(),u.Qb(),u.Rb(39,"div",20),u.Rb(40,"div",13),u.Rb(41,"label",38),u.Bc(42,"Application"),u.Qb(),u.Nb(43,"input",47),u.Qb(),u.Qb(),u.Rb(44,"div",11),u.Rb(45,"div",13),u.Rb(46,"label",38),u.Bc(47,"Industries"),u.Qb(),u.Nb(48,"input",48),u.Qb(),u.Qb(),u.Qb(),u.Qb()),2&t){const t=e.$implicit,r=e.index,o=u.fc(2);u.zb(2),u.Dc("Product Detail ",r+1,""),u.zb(1),u.kc("formGroup",t),u.zb(3),u.kc("for","model"+r),u.zb(2),u.kc("id","model"+r)("ngClass",u.oc(21,C,o.isArrayFormSubmittedAndError(t,"model"))),u.zb(3),u.kc("ngIf",o.isArrayFormSubmittedAndError(t,"model")),u.zb(3),u.kc("for","ratio"+r),u.zb(2),u.kc("id","ratio"+r),u.zb(3),u.kc("for","size"+r),u.zb(2),u.kc("id","size"+r),u.zb(3),u.kc("for","type"+r),u.zb(2),u.kc("id","type"+r),u.zb(3),u.kc("for","powerKw"+r),u.zb(3),u.kc("id","powerKw"+r),u.zb(1),u.kc("id","powerHp"+r),u.zb(3),u.kc("for","flange"+r),u.zb(2),u.kc("id","flange"+r),u.zb(3),u.kc("for","application"+r),u.zb(2),u.kc("id","application"+r),u.zb(3),u.kc("for","industries"+r),u.zb(2),u.kc("id","industries"+r)}}function x(t,e){if(1&t){const t=u.Sb();u.Rb(0,"form",9),u.dc("submit",(function(){return u.tc(t),u.fc().productFormSubmit()})),u.Rb(1,"div",10),u.Rb(2,"div",11),u.Rb(3,"div",10),u.Rb(4,"div",12),u.Rb(5,"div",13),u.Rb(6,"label",14),u.Bc(7,"Product Name"),u.Qb(),u.Nb(8,"input",15),u.Rb(9,"span",16),u.Bc(10,"*"),u.Qb(),u.zc(11,v,2,1,"div",17),u.Qb(),u.Qb(),u.Rb(12,"div",12),u.Rb(13,"div",13),u.Rb(14,"label",18),u.Bc(15,"Product Description"),u.Qb(),u.Nb(16,"input",19),u.Rb(17,"span",16),u.Bc(18,"*"),u.Qb(),u.zc(19,y,2,1,"div",17),u.Qb(),u.Qb(),u.Qb(),u.Qb(),u.Rb(20,"div",20),u.Rb(21,"div",21),u.Rb(22,"input",22,23),u.dc("change",(function(e){return u.tc(t),u.fc().onChangePropertyCoverImage(e)})),u.Qb(),u.zc(24,k,5,0,"button",24),u.zc(25,Q,1,1,"img",25),u.Qb(),u.Qb(),u.Qb(),u.Rb(26,"div",26),u.Rb(27,"div",12),u.zc(28,P,49,23,"fieldset",27),u.Qb(),u.Qb(),u.Rb(29,"div",10),u.Rb(30,"div",12),u.Rb(31,"button",28),u.dc("click",(function(){return u.tc(t),u.fc().createProductDetailForm()})),u.Bc(32,"Add Product Details"),u.Qb(),u.Qb(),u.Qb(),u.Qb()}if(2&t){const t=u.fc();u.kc("formGroup",t.productForm),u.zb(8),u.kc("ngClass",u.oc(9,C,t.isFormSubmittedAndError("name"))),u.zb(3),u.kc("ngIf",t.isFormSubmittedAndError("name")),u.zb(5),u.kc("ngClass",u.oc(11,C,t.isFormSubmittedAndError("description"))),u.zb(3),u.kc("ngIf",t.isFormSubmittedAndError("description")),u.zb(5),u.kc("ngIf",!t.productForm.get("imageUrl").value),u.zb(1),u.kc("ngIf",t.productForm.get("imageUrl").value),u.zb(3),u.kc("ngForOf",t.productFormProducts.controls)("ngForTrackBy",t.trackByFn)}}let S=(()=>{class t{constructor(t,e,r,o,i){this.activeModal=t,this.formBuilder=e,this.toastService=r,this.commonService=o,this.sanitizer=i,this.product={},this.serverDomain=l.a.serverUrl,this.isEditProduct=!1}ngOnInit(){this.isEditProduct=this.product&&this.product._id,this.createForm()}createForm(){if(this.productForm=this.formBuilder.group({_id:[this.product._id||""],name:[this.product.name||"",[c.s.required,c.s.maxLength(100)]],description:[this.product.description||"",[c.s.maxLength(200)]],image:[""],imageUrl:[this.product.image?this.serverDomain+this.product.image:""],products:new c.b([]),isClicked:[!1],isSubmited:[!1]}),this.product.products&&this.product.products.length>0)for(const t in this.product.products)Object.prototype.hasOwnProperty.call(this.product.products,t)&&this.createProductDetailForm(this.product.products[t])}createProductDetailForm(t={}){if(this.productFormProducts.valid){const e=this.formBuilder.group({model:[t.model||"",[c.s.required,c.s.maxLength(100)]],ratio:[t.ratio||"",[c.s.maxLength(100)]],size:[t.size||"",[c.s.maxLength(100)]],type:[t.type||"",[c.s.maxLength(100)]],powerKw:[t.powerKw||"",[c.s.maxLength(100)]],powerHp:[t.powerHp||"",[c.s.maxLength(100)]],flange:[t.flange||"",[c.s.maxLength(100)]],application:[t.application||"",[c.s.maxLength(100)]],industries:[t.industries||"",[c.s.maxLength(100)]],isClicked:[!1],isSubmited:[!1]});this.productFormProducts.push(e)}else this.toastService.removeAll(),this.toastService.error("Please enter valid product detail.")}get productFormIsClicked(){return this.productForm.get("isClicked")}get productFormIsSubmmited(){return this.productForm.get("isSubmited")}get productFormProducts(){return this.productForm.get("products")}productFormSubmit(){if(this.productFormIsClicked.setValue(!0),this.toastService.removeAll(),this.productForm.invalid&&!1===this.productFormIsSubmmited.value)this.toastService.error("Please enter valid values.");else{this.productFormIsSubmmited.setValue(!0),console.log("this.productForm.value : ",this.productForm.value);var t=this.productForm.value;delete t.imageUrl,t.image instanceof File&&(t=b.a.jsonToFormData(t)),this.commonService.post(s.a.Product.Insert,t).subscribe(t=>{t&&200===t.status?this.activeModal.close(t.data):this.toastService.error(t.message)},t=>{this.toastService.error(t.message)}).add(()=>{this.productForm.reset(),this.productFormIsClicked.setValue(!1),this.productFormIsSubmmited.setValue(!1)})}}onChangePropertyCoverImage(t){return e=this,void 0,o=function*(){if(t.target.files&&t.target.files.length>0)for(const e in t.target.files)if(Object.prototype.hasOwnProperty.call(t.target.files,e)){const r=t.target.files[e],o=yield b.a.fileToBlobUrl(r);this.productForm.get("image").setValue(r),this.productForm.get("imageUrl").setValue(this.sanitizer.bypassSecurityTrustResourceUrl(o))}},new((r=void 0)||(r=Promise))((function(t,i){function c(t){try{d(o.next(t))}catch(e){i(e)}}function n(t){try{d(o.throw(t))}catch(e){i(e)}}function d(e){var o;e.done?t(e.value):(o=e.value,o instanceof r?o:new r((function(t){t(o)}))).then(c,n)}d((o=o.apply(e,[])).next())}));var e,r,o}isFormSubmittedAndError(t,e="",r=new Array){return b.a.isFormSubmittedAndError(this.productForm,this.productFormIsClicked.value,t,e,r)}isArrayFormSubmittedAndError(t,e,r="",o=new Array){return b.a.isFormSubmittedAndError(t,1,e,r,o)}trackByFn(t="",e={}){return e._id}}return t.\u0275fac=function(e){return new(e||t)(u.Mb(m.a),u.Mb(c.c),u.Mb(p.a),u.Mb(f.a),u.Mb(g.b))},t.\u0275cmp=u.Gb({type:t,selectors:[["app-add-edit-product-modal"]],inputs:{product:"product"},decls:12,vars:3,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],[1,"icofont-close"],[1,"modal-body"],["appInvalidFormFocus","","autocomplete","off","role","form",3,"formGroup","submit",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["appInvalidFormFocus","","autocomplete","off","role","form",3,"formGroup","submit"],[1,"row"],[1,"col-8"],[1,"col-12"],[1,"form-group","mb-3"],["for","name"],["type","text","id","name","formControlName","name","placeholder","Enter product name","maxlength","100","trim","blur",1,"form-control",3,"ngClass"],[1,"required"],["class","invalid-feedback",4,"ngIf"],["for","description"],["type","text","id","description","formControlName","description","placeholder","Enter product description","maxlength","200","trim","blur",1,"form-control",3,"ngClass"],[1,"col-4"],[1,"d-flex","flex-row","flex-wrap","justify-content-end","align-items-end","w-100","h-100"],["type","file","hidden","","accept","image/*",3,"change"],["propertyCoverImage",""],["type","button","class","btn btn-labeled btn-outline-primary btn-lg propertyCoverImageBtn",3,"click",4,"ngIf"],["alt","...","class","img-thumbnail propertyCoverImage",3,"src","click",4,"ngIf"],[1,"row","mt-4"],["class","border p-3 mb-4",4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],[1,"invalid-feedback"],[4,"ngIf"],["type","button",1,"btn","btn-labeled","btn-outline-primary","btn-lg","propertyCoverImageBtn",3,"click"],[1,"btn-label"],[1,"icofont-camera","icofont-5x"],["alt","...",1,"img-thumbnail","propertyCoverImage",3,"src","click"],[1,"border","p-3","mb-4"],[1,"w-auto","h6","text-muted"],[1,"row",3,"formGroup"],[3,"for"],["type","text","formControlName","model","placeholder","Enter product model","maxlength","100","trim","blur",1,"form-control",3,"id","ngClass"],["type","text","formControlName","ratio","placeholder","Enter product ratio","maxlength","100","trim","blur",1,"form-control",3,"id"],["type","text","formControlName","size","placeholder","Enter product size","maxlength","100","trim","blur",1,"form-control",3,"id"],["type","text","formControlName","type","placeholder","Enter product type","maxlength","100","trim","blur",1,"form-control",3,"id"],[1,"input-group"],["type","text","formControlName","powerKw","placeholder","Power in KW","maxlength","100","trim","blur",1,"form-control",3,"id"],["type","text","formControlName","powerHp","placeholder","Power in HP","maxlength","100","trim","blur",1,"form-control",3,"id"],["type","text","formControlName","flange","placeholder","Enter product flange","maxlength","100","trim","blur",1,"form-control",3,"id"],["type","text","formControlName","application","placeholder","Enter product application","maxlength","100","trim","blur",1,"form-control",3,"id"],["type","text","formControlName","industries","placeholder","Enter product industries","maxlength","100","trim","blur",1,"form-control",3,"id"]],template:function(t,e){1&t&&(u.Rb(0,"div",0),u.Rb(1,"h5",1),u.Bc(2),u.Qb(),u.Rb(3,"button",2),u.dc("click",(function(){return e.activeModal.dismiss("Cross click")})),u.Nb(4,"i",3),u.Qb(),u.Qb(),u.Rb(5,"div",4),u.zc(6,x,33,13,"form",5),u.Qb(),u.Rb(7,"div",6),u.Rb(8,"button",7),u.dc("click",(function(){return e.activeModal.dismiss("Cross click")})),u.Bc(9,"Close"),u.Qb(),u.Rb(10,"button",8),u.dc("click",(function(){return e.productFormSubmit()})),u.Bc(11),u.Qb(),u.Qb()),2&t&&(u.zb(2),u.Dc("",e.isEditProduct?"Edit":"Add"," Product"),u.zb(4),u.kc("ngIf",e.productForm),u.zb(5),u.Cc(e.isEditProduct?"Update":"Add"))},directives:[o.k,c.u,c.p,c.h,c.a,c.o,c.f,c.j,o.i,o.j],styles:[".propertyCoverImage[_ngcontent-%COMP%], .propertyCoverImageBtn[_ngcontent-%COMP%]{min-width:200px;max-width:200px;min-height:200px;max-height:200px}.propertyCoverImage[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%], .propertyCoverImageBtn[_ngcontent-%COMP%]   .btn-label[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:10rem;padding-bottom:1rem}"]}),t})();var w=r("fB6u"),I=r("3LUQ"),B=r("nlvs");function N(t,e){1&t&&u.Nb(0,"app-no-data-found")}function A(t,e){if(1&t){const t=u.Sb();u.Rb(0,"div",11),u.Rb(1,"div",12),u.Rb(2,"div",13),u.Nb(3,"img",14),u.Rb(4,"div",15),u.Rb(5,"a",16),u.dc("click",(function(){u.tc(t);const r=e.$implicit;return u.fc().openViewProductModal(r)})),u.Nb(6,"i",17),u.Qb(),u.Rb(7,"a",18),u.dc("click",(function(){u.tc(t);const r=e.$implicit;return u.fc().openAddEditProductModal(r)})),u.Nb(8,"i",19),u.Qb(),u.Rb(9,"a",20),u.dc("click",(function(){u.tc(t);const r=e.$implicit;return u.fc().deleteProduct(r)})),u.Nb(10,"i",21),u.Qb(),u.Qb(),u.Qb(),u.Rb(11,"div",22),u.Rb(12,"h4"),u.Bc(13),u.Qb(),u.Rb(14,"span"),u.Bc(15),u.Qb(),u.Qb(),u.Qb(),u.Qb()}if(2&t){const t=e.$implicit,r=u.fc();u.zb(3),u.kc("src",t.image?r.serverDomain+t.image:"assets/img/logo/logo.png",u.uc),u.zb(10),u.Cc(t.name),u.zb(2),u.Cc(t.description)}}const E=[{path:"",component:(()=>{class t{constructor(t,e,r,o,i){this.modalService=t,this.commonService=e,this.authService=r,this.alertService=o,this.toastService=i,this.serverDomain=l.a.serverUrl,this.products=[],this.tempProducts=[],this.productSearchCtrl=new c.d(""),this.productSearchCtrl.valueChanges.pipe(Object(n.a)(500),Object(d.a)()).subscribe(t=>{console.log("search : ",t),this.products=this.tempProducts.filter(e=>-1!==e.name.indexOf(t))}),this.getAllProduct()}ngOnInit(){this.loadScripts()}getAllProduct(){this.commonService.post(s.a.Product.Get).subscribe(t=>{t&&200===t.status&&(this.products=t.data,this.tempProducts=t.data)})}loadScripts(){const t=["assets/js/landingPage.js"];for(let e=0;e<t.length;e++){const r=document.createElement("script");r.src=t[e],r.type="text/javascript",r.async=!1,document.getElementsByTagName("head")[0].appendChild(r)}}openAddEditProductModal(t={}){console.log("product : ",t);const e=this.modalService.open(S,{size:"xl"});e.componentInstance.product=t,e.result.then(t=>{console.log("res : ",t),this.getAllProduct()},t=>{console.log("reason : ",t)})}openViewProductModal(t={}){console.log("product : ",t),this.modalService.open(a.a,{size:"xl"}).componentInstance.product=t}deleteProduct(t={}){this.alertService.confirmationAlert("","This product deleted permanetaly.").then(e=>{console.log("Is Confirmed : ",e),e&&!0===e.value&&this.commonService.delete(s.a.Product.Delete,t._id).subscribe(t=>{console.log("Res : ",t),200===t.status?this.toastService.success("Payment method deleted successfully."):this.toastService.error(t.message),this.getAllProduct()})})}trackByFn(t="",e={}){return e._id}}return t.\u0275fac=function(e){return new(e||t)(u.Mb(m.b),u.Mb(f.a),u.Mb(w.a),u.Mb(I.a),u.Mb(p.a))},t.\u0275cmp=u.Gb({type:t,selectors:[["app-products"]],decls:12,vars:4,consts:[["id","products",1,"products"],["data-aos","fade-up",1,"container"],[1,"row"],[1,"col-6"],[1,"form-group","noLabel"],["type","text","id","search","placeholder","Search","maxlength","100","trim","blur",1,"form-control",3,"formControl"],[1,"col-6","text-right"],[1,"btn","btn-success",3,"click"],[1,"row","mt-4"],[4,"ngIf"],["class","col-lg-3 col-md-6 d-flex align-items-stretch","data-aos","fade-up","data-aos-delay","100",4,"ngFor","ngForOf","ngForTrackBy"],["data-aos","fade-up","data-aos-delay","100",1,"col-lg-3","col-md-6","d-flex","align-items-stretch"],[1,"member"],[1,"member-img"],["alt","",1,"img-fluid",3,"src"],[1,"social"],["href","javascript:;",3,"click"],[1,"icofont-eye-alt"],["href","javascript:;",1,"edit",3,"click"],[1,"icofont-ui-edit"],["href","javascript:;",1,"delete",3,"click"],[1,"icofont-ui-delete"],[1,"member-info"]],template:function(t,e){1&t&&(u.Rb(0,"section",0),u.Rb(1,"div",1),u.Rb(2,"div",2),u.Rb(3,"div",3),u.Rb(4,"div",4),u.Nb(5,"input",5),u.Qb(),u.Qb(),u.Rb(6,"div",6),u.Rb(7,"button",7),u.dc("click",(function(){return e.openAddEditProductModal()})),u.Bc(8,"Add Product"),u.Qb(),u.Qb(),u.Qb(),u.Rb(9,"div",8),u.zc(10,N,1,0,"app-no-data-found",9),u.zc(11,A,16,3,"div",10),u.Qb(),u.Qb(),u.Qb()),2&t&&(u.zb(5),u.kc("formControl",e.productSearchCtrl),u.zb(5),u.kc("ngIf",e.products&&0===e.products.length),u.zb(1),u.kc("ngForOf",e.products)("ngForTrackBy",e.trackByFn))},directives:[c.a,c.j,c.o,c.e,o.k,o.j,B.a],styles:[""]}),t})()}];let M=(()=>{class t{}return t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({factory:function(e){return new(e||t)},imports:[[i.d.forChild(E)],i.d]}),t})();var O=r("ZZzB");let j=(()=>{class t{}return t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({factory:function(e){return new(e||t)},imports:[[o.b,m.c,c.i,c.r,O.a,M]]}),t})()}}]);